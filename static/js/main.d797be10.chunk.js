(this.webpackJsonpeasy_schedule=this.webpackJsonpeasy_schedule||[]).push([[0],{123:function(e,n,t){},124:function(e,n,t){},125:function(e,n,t){},126:function(e,n,t){},129:function(e,n,t){"use strict";t.r(n);var a=t(5),r=t(0),i=t.n(r),c=t(19),l=t.n(c),o=t(37),s=(t(123),t(10)),d=t(11),u=(t(124),t(125),t(126),t(49)),h=t(86),j=t(165),b=t(167);function p(e){var n={},t={};return e.bad_participants&&e.bad_participants.length&&(e.bad_participants.forEach((function(e){n[e]=!0})),t={backgroundColor:"#fdd"}),Object(a.jsx)(u.b,{draggableId:e.entry_id.toString(),index:e.index,children:function(r){return Object(a.jsx)(j.a,Object(s.a)(Object(s.a)(Object(s.a)({className:"Entry",onClick:e.onClick},r.draggableProps),r.dragHandleProps),{},{ref:r.innerRef,children:Object(a.jsxs)(b.a,{style:t,children:[Object(a.jsx)("div",{className:"Entry-title",children:e.title}),Object(a.jsx)("div",{className:"Entry-participant-list",children:e.participants&&e.participants.map((function(e){var t=n[e]?"secondary":"primary";return Object(a.jsx)(h.a,{label:e,color:t},e)}))})]})}))}})}function O(e){var n=function(e){var n=void 0,t=[];return e.forEach((function(e){t.push([]),n&&e.participants.forEach((function(e){n&&-1!==n.participants.indexOf(e)&&(t[t.length-1].push(e),t[t.length-2].push(e))})),n=e})),t}(e.entries);return Object(a.jsx)(u.a,{onDragEnd:function(n){var t=n.destination,a=n.source,r=n.draggableId;t&&e.onRearrange&&t.index!==a.index&&e.onRearrange(+r,t.index)},children:Object(a.jsx)(u.c,{droppableId:"1",children:function(t){return Object(a.jsxs)("div",Object(s.a)(Object(s.a)({className:"EntryList",ref:t.innerRef},t.droppableProps),{},{children:[e.entries&&e.entries.map((function(t,r){return Object(a.jsx)(p,{entry_id:t.id,index:r,title:t.title,participants:t.participants,bad_participants:n[r],onClick:function(){return e.onSelect&&e.onSelect(t.id)}},"entry_"+t.title)})),t.placeholder]}))}})})}var m=t(181),y=t(180),f=t(172),g=t(170),x=t(171),v=t(178),C=t(91),S=t.n(C),E=t(169),_=t(25);function k(e){var n=e.entry?Object.assign({},e.entry):{id:0,title:"",participants:[]},t=Object(r.useState)(n),i=Object(d.a)(t,2),c=i[0],l=i[1];var o=Object(_.a)(),u=Object(E.a)(o.breakpoints.down("sm"));return Object(a.jsxs)(y.a,{open:e.open,fullScreen:u,onClose:e.onCancel,children:[Object(a.jsx)(g.a,{children:0===c.id?"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u044d\u043b\u0435\u043c\u0435\u043d\u0442":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u044d\u043b\u0435\u043c\u0435\u043d\u0442"}),Object(a.jsxs)(x.a,{children:[Object(a.jsx)(v.a,{margin:"dense",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:",type:"text",fullWidth:!0,value:c.title,onChange:function(e){l(Object(s.a)(Object(s.a)({},c),{},{title:e.target.value}))}}),Object(a.jsx)(S.a,{label:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438:",variant:"outlined",margin:"dense",fullWidth:!0,defaultValue:c.participants,onChange:function(e){l(Object(s.a)(Object(s.a)({},c),{},{participants:e}))}})]}),Object(a.jsxs)(f.a,{children:[0!==c.id&&Object(a.jsx)(m.a,{onClick:function(){e.onDelete&&e.onDelete(c)},color:"secondary",children:"Delete"}),Object(a.jsx)(m.a,{onClick:e.onCancel,children:"Close"}),Object(a.jsx)(m.a,{onClick:function(){e.onSave&&e.onSave(c),l(Object(s.a)(Object(s.a)({},c),{},{id:0,title:"",participants:[]}))},children:"Save"})]})]})}var M="ADD_ENTRY",A="UPDATE_ENTRY",D="DELETE_ENTRY",J="REARRANGE_ENTRY",N="NEW_PROJECT",R="EMPTY_PROJECT",w="DEMO_PROJECT",P="NewProject",B="Edit",L=t(173),T=t(182),H=t(176),W=t(175),G=t(174),I=t.p+"static/media/empty_schedule.b845eebc.svg",K=t.p+"static/media/demo_schedule.25022235.svg",F=t(50),V=t.n(F);function Y(e){function n(n){e.onOk&&e.onOk(n)}return Object(a.jsxs)(T.a,{children:[Object(a.jsx)("h1",{children:"Create a new schedule project"}),Object(a.jsxs)(L.a,{container:!0,justifyContent:"center",spacing:10,children:[Object(a.jsx)(L.a,{item:!0,children:Object(a.jsx)(j.a,{className:V.a.project_type_card,onClick:function(){n(R)},children:Object(a.jsxs)(G.a,{children:[Object(a.jsx)(W.a,{component:"img",className:V.a.schedule_media,image:I,title:"Empty schedule image"}),Object(a.jsx)(H.a,{title:"Blank"}),Object(a.jsx)(b.a,{children:"Create blank schedule."})]})})}),Object(a.jsx)(L.a,{item:!0,children:Object(a.jsx)(j.a,{className:V.a.project_type_card,onClick:function(){return n(w)},children:Object(a.jsxs)(G.a,{children:[Object(a.jsx)(W.a,{className:V.a.schedule_media,image:K,title:"Demo schedule image"}),Object(a.jsx)(H.a,{title:"Demo"}),Object(a.jsx)(b.a,{children:"Create demo schedule with random data."})]})})})]})]})}var z=function(e){var n=Object(_.a)(),t=Object(E.a)(n.breakpoints.down("sm"));return Object(a.jsxs)(y.a,{open:e.open,fullScreen:t,onClose:e.onCancel,children:[Object(a.jsx)(g.a,{children:e.title}),Object(a.jsx)(x.a,{children:e.children})]})};var U=t(177),Q={addEntry:function(e){return{type:M,entry:e}},updateEntry:function(e){return{type:A,entry:e}},deleteEntry:function(e){return{type:D,id:e.id}},rearrangeEntry:function(e,n){return{type:J,id:e,index:n}},newProject:function(e){return{type:N,project_type:e}}};var Z=Object(o.b)((function(e){return{schedule:e.schedule}}),Q)((function(e){var n=Object(r.useState)({modal:"",schedule:Object(s.a)({},e.schedule),edited_entry:{id:0,title:"",participants:[]}}),t=Object(d.a)(n,2),i=t[0],c=t[1];function l(){c(Object(s.a)(Object(s.a)({},i),{},{modal:""}))}function o(n){c(Object(s.a)(Object(s.a)({},i),{},{modal:""})),e.newProject(n)}return Object(r.useEffect)((function(){c(Object(s.a)(Object(s.a)({},i),{},{schedule:Object(s.a)({},e.schedule)}))}),[e]),Object(a.jsxs)("div",{className:"App",children:[""===i.schedule.title?Object(a.jsx)(Y,{onOk:o}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("header",{className:"App-header",children:Object(a.jsx)("h1",{children:i.schedule.title})}),Object(a.jsx)(m.a,{variant:"contained",color:"primary",onClick:function(){c(Object(s.a)(Object(s.a)({},i),{},{modal:B,edited_entry:{id:0,title:"",participants:[]}}))},children:"Add entry"}),Object(a.jsx)(O,{entries:i.schedule.entries,onSelect:function(e){for(var n=0;n<i.schedule.entries.length;n++)i.schedule.entries[n].id===e&&c(Object(s.a)(Object(s.a)({},i),{},{modal:B,edited_entry:Object(s.a)({},i.schedule.entries[n])}))},onRearrange:e.rearrangeEntry}),Object(a.jsx)(m.a,{variant:"contained",color:"secondary",onClick:function(){c(Object(s.a)(Object(s.a)({},i),{},{modal:P}))},children:"New project"}),Object(a.jsx)(k,{open:i.modal===B,entry:i.edited_entry,onCancel:l,onSave:function(n){n.title.length>0&&(c(Object(s.a)(Object(s.a)({},i),{},{modal:""})),0===n.id?e.addEntry(n):e.updateEntry(n))},onDelete:function(n){c(Object(s.a)(Object(s.a)({},i),{},{modal:""})),e.deleteEntry(n)}},i.edited_entry.id),Object(a.jsx)(z,{open:i.modal===P,onCancel:l,title:"New Schedule",children:Object(a.jsx)(Y,{onOk:o})})]}),Object(a.jsx)(U.a,{})]})})),q=t(21),X=t(18),$=["Abigail","Alexandra","Alison","Amanda","Amelia","Amy","Andrea","Angela","Anna","Anne","Audrey","Ava","Bella","Bernadette","Carol","Caroline","Carolyn","Chloe","Claire","Deirdre","Diana","Diane","Donna","Dorothy","Elizabeth","Ella","Emily","Emma","Faith","Felicity","Fiona","Gabrielle","Grace","Hannah","Heather","Irene","Jan","Jane","Jasmine","Jennifer","Jessica","Joan","Joanne","Julia","Karen","Katherine","Kimberly","Kylie","Lauren","Leah","Lillian","Lily","Lisa","Madeleine","Maria","Mary","Megan","Melanie","Michelle","Molly","Natalie","Nicola","Olivia","Penelope","Pippa","Rachel","Rebecca","Rose","Ruth","Sally","Samantha","Sarah","Sonia","Sophie","Stephanie","Sue","Theresa","Tracey","Una","Vanessa","Victoria","Virginia","Wanda","Wendy","Yvonne","Zoe"],ee=["Adam","Adrian","Alan","Alexander","Andrew","Anthony","Austin","Benjamin","Blake","Boris","Brandon","Brian","Cameron","Carl","Charles","Christian","Christopher","Colin","Connor","Dan","David","Dominic","Dylan","Edward","Eric","Evan","Frank","Gavin","Gordon","Harry","Ian","Isaac","Jack","Jacob","Jake","James","Jason","Joe","John","Jonathan","Joseph","Joshua","Julian","Justin","Keith","Kevin","Leonard","Liam","Lucas","Luke","Matt","Max","Michael","Nathan","Neil","Nicholas","Oliver","Owen","Paul","Peter","Phil","Piers","Richard","Robert","Ryan","Sam","Sean","Sebastian","Simon","Stephen","Steven","Stewart","Thomas","Tim","Trevor","Victor","Warren","William"],ne=["Abraham","Allan","Alsop","Anderson","Arnold","Avery","Bailey","Baker","Ball","Bell","Berry","Black","Blake","Bond","Bower","Brown","Buckland","Burgess","Butler","Cameron","Campbell","Carr","Chapman","Churchill","Clark","Clarkson","Coleman","Cornish","Davidson","Davies","Dickens","Dowd","Duncan","Dyer","Edmunds","Ellison","Ferguson","Fisher","Forsyth","Fraser","Gibson","Gill","Glover","Graham","Grant","Gray","Greene","Hamilton","Hardacre","Harris","Hart","Hemmings","Henderson","Hill","Hodges","Howard","Hudson","Hughes","Hunter","Ince","Jackson","James","Johnston","Jones","Kelly","Kerr","King","Knox","Lambert","Langdon","Lawrence","Lee","Lewis","Lyman","MacDonald","Mackay","Mackenzie","MacLeod","Manning","Marshall","Martin","Mathis","May","McDonald","McLean","McGrath","Metcalfe","Miller","Mills","Mitchell","Morgan","Morrison","Murray","Nash","Newman","Nolan","North","Ogden","Oliver","Paige","Parr","Parsons","Paterson","Payne","Peake","Peters","Piper","Poole","Powell","Pullman","Quinn","Rampling","Randall","Rees","Reid","Roberts","Robertson","Ross","Russell","Rutherford","Sanderson","Scott","Sharp","Short","Simpson","Skinner","Slater","Smith","Springer","Stewart","Sutherland","Taylor","Terry","Thomson","Tucker","Turner","Underwood","Vance","Vaughan","Walker","Wallace","Walsh","Watson","Welch","White","Wilkins","Wilson","Wright","Young"];function te(){return ne[Math.floor(Math.random()*ne.length)]}function ae(e,n,t,a){for(var r={id:e,title:n,participants:[]},i=0;i<Math.floor(Math.random()*(a-t+1))+t;i++)r.participants.push(i%2===0?$[Math.floor(Math.random()*ee.length)]+" "+te():ee[Math.floor(Math.random()*ee.length)]+" "+te());return r}var re={title:"",entries:[]},ie=1;function ce(e,n){switch(e){case w:return Object(s.a)(Object(s.a)({},(t=5,a=2,r=6,function(){for(var e={title:"",entries:[]},n=0;n<t;n++)e.entries.push(ae(n+1,"Dance "+(n+1).toString(),a,r));return e}())),{},{title:"Demo schedule "+n.toString()});case R:default:return{title:"New schedule "+n.toString(),entries:[]}}var t,a,r}var le=Object(q.c)({schedule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case N:return ce(n.project_type,ie++);case M:var t=0;return e.entries.forEach((function(e){e.id>t&&(t=e.id)})),n.entry.id=t+1,console.log(n.entry.id),{entries:[].concat(Object(X.a)(e.entries),[n.entry])};case A:for(var a=Object(s.a)({},e),r=0;r<a.entries.length;r++)a.entries[r].id===n.entry.id&&(a.entries[r]=Object(s.a)({},n.entry));return a;case D:return e.entries=e.entries.filter((function(e){return e.id!==n.id})),Object(s.a)({},e);case J:for(var i,c=-1,l=0;l<e.entries.length;l++)if(e.entries[l].id===n.id){c=l;break}if(-1===c)return e;var o=e.entries.splice(c,1),u=Object(d.a)(o,1);return i=u[0],e.entries.splice(n.index,0,i),Object(s.a)({},e);default:return e}}});var oe,se="easy-schedule",de=Object.assign({},function(e){try{var n=localStorage.getItem(e);if(null===n)return;return JSON.parse(n)}catch(t){return}}(se)),ue=Object(q.a)((oe=se,function(e){return function(n){return function(t){n(t),function(e,n){try{var t=JSON.stringify(n);localStorage.setItem(e,t)}catch(a){}}(oe,e.getState())}}})),he=Object(q.e)(le,de,ue);l.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(o.a,{store:he,children:Object(a.jsx)(Z,{})})}),document.getElementById("root"))},50:function(e,n,t){e.exports={project_type_card:"styles_project_type_card__usLlG",schedule_media:"styles_schedule_media__1CzQm"}}},[[129,1,2]]]);
//# sourceMappingURL=main.d797be10.chunk.js.map